{% extends "base.html" %}

{% block content %}

<!-- nur fuer testzwecke -->
<!--
<head>
    <title>Hikerz</title>
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.svg') }}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="./../static/style.css">
</head>

<body>

    <div class="container-fluid">
        -->
        <h1 align="center"> Alle Touren auf einen Blick </h1>

        <!-- Alle Touren werden angezeigt -->

        <div class="row gx-5">

            {% for t in touren %}
            
                <div class="card bg-dark text-white col-md-4 p-3 border bg-light">
                    <div class="card-header"><h3>Tour Titel</h3></div>
                    <img class="card-img" src="./../static/vorschaubilder/{{ touren[t] }}" alt="Card image">
                    <div class="card-footer">
                        <a href="/testRoute" class="btn btn-primary stretched-link">Mehr Details</a>
                    </div>
                  </div>

            {% endfor %}
            <!--
            <nav aria-label="Page navigation example">
                <ul class="pagination">
                  <li class="page-item"><a class="page-link" href="#">Previous</a></li>
                  <li class="page-item"><a class="page-link" href="#">1</a></li>
                  <li class="page-item"><a class="page-link" href="#">2</a></li>
                  <li class="page-item"><a class="page-link" href="#">3</a></li>
                  <li class="page-item"><a class="page-link" href="#">Next</a></li>
                </ul>
              </nav>-->

            <script src="https://cdns.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" charset="utf-8"></script>

            <!--<nav aria-label="Page navigation example">
                <ul class="pagination">
                    <li class="page-item">
                        <a class="page-link" href="#" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>

                    <li class="page-item"><a class="page-link" href="#">1</a></li>

                    <li class="page-item"><a class="page-link" href="#">2</a></li>

                    <li class="page-item"><a class="page-link" href="#">3</a></li>

                    <li class="page-item">
                        <a class="page-link" href="#" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>-->
        </div>

        
        <!--<div class="container">-->
            <div class="card-content" style="display: none">
                <div class="card">
                    <div class="card-image">
                        <img src="./../static/vorschaubilder/bild1.jpeg" alt="">
                        <div class="card-info">
                            <h3>Card 1</h3>
                            <p>TEst</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-image">
                        <img src="./../static/vorschaubilder/bild2.jpeg" alt="">
                        <div class="card-info">
                            <h3>Card 1</h3>
                            <p>TEst</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-image">
                        <img src="./../static/vorschaubilder/bild3.jpeg" alt="">
                        <div class="card-info">
                            <h3>Card 1</h3>
                            <p>TEst</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-image">
                        <img src="./../static/vorschaubilder/bild4.jpeg" alt="">
                        <div class="card-info">
                            <h3>Card 1</h3>
                            <p>TEst</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-image">
                        <img src="./../static/vorschaubilder/bild5.jpeg" alt="">
                        <div class="card-info">
                            <h3>Card 1</h3>
                            <p>TEst</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-image">
                        <img src="./../static/vorschaubilder/bild6.jpeg" alt="">
                        <div class="card-info">
                            <h3>Card 1</h3>
                            <p>TEst</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-image">
                        <img src="./../static/vorschaubilder/bild7.jpeg" alt="">
                        <div class="card-info">
                            <h3>Card 1</h3>
                            <p>TEst</p>
                    </div>
                </div>
            </div>
            <div class="pagination">
                <!--<li class="page-item previous-page"><a class="page-link" href="#">Prev</a></li>
                <li class="page-item current-page"><a class="page-link" href="#">1</a></li>
                <li class="page-item dots"><a class="page-link" href="#">...</a></li>
                <li class="page-item current-page"><a class="page-link" href="#">5</a></li>
                <li class="page-item current-page"><a class="page-link" href="#">6</a></li>
                <li class="page-item dots"><a class="page-link" href="#">...</a></li>
                <li class="page-item current-page"><a class="page-link" href="#">10</a></li>
                <li class="page-item next-page"><a class="page-link" href="#">Next</a></li>-->
            </div>
        <!--</div>-->

        <script type="text/javascript">
            function getPageList(totalPages, page, maxLength){
                function range(start, end){
                    return Array.from(Array(end-start + 1), (_, i) => i + start);
                }

                var sideWidth = maxLength < 9 ? 1 : 2;
                var leftWidth = (maxLength - sideWidth * 2 - 3) >> 1;
                var rightWidth = (maxLength - sideWidth * 2 - 3) >> 1;

                if(totalPages <= maxLength){
                    return range(1, totalPages);
                }

                if(page <= maxLength - sideWidth - 1 - rightWidth){
                    return range(1, maxLength - sideWidth - 1).concat(0, range(totalPages - sideWidth + 1, totalPages));
                }

                if(page >= totalPages - sideWidth - 1 - rightWidth){
                    return range(1,sideWidth).concat(0, range(totalPages - sideWidth - 1 - rightWidth, leftWidth, totalPages));
                }

                return range(1, sideWidth).concat(0, range(page - leftWidth, page + rightWidth), 0, range(totalPages - sideWidth + 1, totalPages));
            }

            $(function(){
                var numberOfItems = $(".card-content .card").length;
                var limitPerPage = 3;
                var totalPages = Math.ceil(numberOfItems / limitPerPage);
                var pagination = 7;
                var currentPage;

                function showPage(whichPage){
                    if(whichPage < 1 || whichPage > totalPages) return false;

                    currentPage = whichPage;

                    $(".card-content .card").hide().slice((currentPage - 1) * limitPerPage, currentPage * limitPerPage).show();

                    $(".pagination li").slice(1,-1).remove();

                    getPageList(totalPages, currentPage, paginationSize).forEach(item => {
                        $("<li>").addClass("page-item").addClass(item ? "current-page": "dots").toggleClass("active", item === currentPage).append($("<a>").addClass("page-link").attr({href:"javascript:void(0)"}).text(item || "...")).insertBefore(".next-page");
                    });

                    $(".previous-page").toggleClass("disable", currentPage === 1);
                    $(".next-page").toggleClass("disable", currentPage === totalPages);
                    return true;
                }
                
                $(".pagination").append(
                    $("<li>").addClass("page-item").addClass("previous-page").append($("<a>").addClass("page-link").attr({href:"javascript:void(0)"}).text("Prev")), 
                    $("<li>").addClass("page-item").addClass("next-page").append($("<a>").addClass("page-link").attr({href:"javascript:void(0)"}).text("Next"))
                );

                $(".card-conten").show();
                showPage(1);
            });
        </script>


    <!--
    </div>


</body>
-->




{% endblock %}